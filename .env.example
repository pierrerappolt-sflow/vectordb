# VectorDB Environment Configuration
# Copy this file to .env and update values as needed

# ==================== Database Configuration ====================

# Application Database (PostgreSQL with pgvector)
DATABASE_URL=postgresql://vdbuser:vdbpass@localhost:5432/vectordb
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Temporal Database (PostgreSQL)
TEMPORAL_DATABASE_URL=postgresql://temporal:temporal@localhost:5433/temporal

# ==================== Temporal Configuration ====================

# Temporal Server
TEMPORAL_HOST=localhost
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default

# Temporal Worker
WORKER_TASK_QUEUE=vdb-tasks
WORKER_MAX_CONCURRENT_ACTIVITIES=10
WORKER_MAX_CONCURRENT_WORKFLOWS=10

# ==================== API Configuration ====================

# FastAPI
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ==================== Embedding Service Configuration ====================

# Embedding Provider (openai, cohere, in_memory)
EMBEDDING_PROVIDER=in_memory

# Cohere (if using)
# COHERE_API_KEY=...

# ==================== Vector Search Configuration ====================

# Vector Repository Type (in_memory, postgres)
VECTOR_REPOSITORY_TYPE=postgres

# pgvector Configuration
PGVECTOR_INDEX_TYPE=hnsw  # hnsw, ivfflat
PGVECTOR_M=16  # HNSW parameter: max connections per layer
PGVECTOR_EF_CONSTRUCTION=64  # HNSW parameter: size of dynamic candidate list

# ==================== Logging ====================

LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text

# ==================== Feature Flags ====================

# Enable async processing via Temporal
ENABLE_ASYNC_PROCESSING=true

# Enable telemetry/metrics
ENABLE_TELEMETRY=false

# ==================== UI Configuration ====================

# API URLs
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_API_DOCS_URL=http://localhost:8000/docs

# Infrastructure UI Links
NEXT_PUBLIC_TEMPORAL_UI_HOST=http://localhost:8080
NEXT_PUBLIC_RABBITMQ_UI_HOST=http://localhost:15672
NEXT_PUBLIC_DATABASE_UI_HOST=http://localhost:8081
